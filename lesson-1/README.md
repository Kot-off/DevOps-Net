# Домашнее задание к занятию «1.1. Введение в виртуализацию»

---

## Задача 1

Задача выполнена в соответствии с инструкцией.

1.  В Yandex Cloud через веб-консоль создана VPC и виртуальная машина конфигурации "эконом-ВМ" (платформа `Intel Ice Lake`, 2 vCPU, 2 ГБ RAM, прерываемая).
2.  В качестве образа выбран `Yandex Cloud Toolbox` из Cloud Marketplace.
3.  Подключение к ВМ по SSH с использованием публичного IP-адреса прошло успешно.
4.  На ВМ предустановлен Docker, что подтверждается выполнением команды от root:
    ```bash
    $ docker --version
    Docker version 20.10.21, build baeda1f
    ```
5.  Согласно документации Yandex Cloud, в образ `Yandex Cloud Toolbox` также предустановлены:
    - Утилиты командной строки Yandex Cloud (`YC CLI`, `Yandex Cloud Terraform Provider`).
    - Популярные инструменты для DevOps: `Kubectl`, `Helm`, `Git`, `Ansible`, `Terraform`, `Packer`, `Go`, `Python 3`, `pip` и многие другие.
6.  ВМ была оставлена работать до момента ее автоматического завершения. После этого был изучен график потребления в разделе "Детализация" платежного аккаунта, где было наглядно видно потребление ресурсов в период работы ВМ.

---

## Задача 2

### Критерии выбора платформы:

1.  **Высоконагруженная база данных MySql, критичная к отказу**

    - **Выбор:** Паравиртуализация (например, VMware vSphere, KVM).
    - **Обоснование:** Низкие задержки (latency) и предсказуемая производительность дисковой подсистемы и сети, близкая к "железу". Механизмы live-миграции (vMotion, Live Migration) обеспечивают отказоустойчивость при плановом обслуживании. Гарантированное выделение аппаратных ресурсов.

2.  **Различные web-приложения**

    - **Выбор:** Виртуализация уровня ОС (контейнеризация, Docker + Kubernetes).
    - **Обоснование:** Легковесная изоляция, быстрое развертывание и масштабирование, высокая плотность размещения экземпляров приложений на одном хосте, эффективное использование ресурсов, что идеально для микросервисной архитектуры.

3.  **Windows-системы для использования бухгалтерским отделом**

    - **Выбор:** Паравиртуализация (например, VMware vSphere, Hyper-V).
    - **Обоснование:** Высокая совместимость и производительность для Windows-гостей благодаря родным инструментам (VMware Tools, Hyper-V Integration Services). Удобное управление множеством ВМ, создание снапшотов и резервных копий.

4.  **Системы, выполняющие высокопроизводительные расчёты на GPU**
    - **Выбор:** Физические сервера или Паравиртуализация с PCI-passthrough.
    - **Обоснование:** Прямой доступ к аппаратным ресурсам видеокарты без накладных расходов гипервизора для максимальной производительности. PCI-passthrough предоставляет возможность виртуализации с минимальными потерями.

---

## Задача 3

### Выбор системы управления виртуализацией:

1.  **100 ВМ, Windows-based инфраструктура, балансировка, репликация, бэкапы**

    - **Выбор:** **VMware vSphere**.
    - **Обоснование:** Enterprise-решение с централизованным управлением (vCenter), встроенными механизмами балансировки нагрузки (DRS), огромной экосистемой инструментов для репликации и резервного копирования (Veeam и др.), отличной поддержкой Windows.

2.  **Производительное бесплатное open source-решение для 20-30 серверов**

    - **Выбор:** **Proxmox VE**.
    - **Обоснование:** Готовое, удобное решение на базе KVM/LXC с веб-интерфейсом. Поддерживает репликацию, живую миграцию и бэкапы "из коробки", что идеально для небольшой инфраструктуры. Высокая производительность.

3.  **Бесплатное и совместимое решение для виртуализации Windows**

    - **Выбор:** **Hyper-V Server**.
    - **Обоснование:** Бесплатный гипервизор от Microsoft, обеспечивающий максимальную совместимость и производительность для Windows-гостевых ОС. Управление через Windows Admin Center или PowerShell.

4.  **Окружение для тестирования на нескольких дистрибутивах Linux**
    - **Выбор:** **Vagrant + VirtualBox/Libvirt**.
    - **Обоснование:** Инструмент для управления виртуальными средами через код (Vagrantfile). Позволяет быстро разворачивать и уничтожать изолированные окружения на основе готовых образов (боксов) для любых дистрибутивов Linux.

---

## Задача 4

### Проблемы гетерогенной среды виртуализации:

- **Сложность управления:** Отсутствие единой точки управления, необходимость знания нескольких систем и их нюансов.
- **Рост затрат:** Затраты на обучение администраторов и лицензирование нескольких платформ.
- **Сложность миграции и переносимости ВМ:** Конвертация образов между гипервизорами нетривиальна и может вызвать проблемы.
- **Разрозненность инфраструктуры:** Необходимость использовать несколько систем для резервного копирования, мониторинга и обеспечения безопасности.
- **Неэффективное использование ресурсов:** Невозможность равномерного перераспределения нагрузки между разными платформами.

### Минимизация рисков:

- **Четкое разграничение сфер применения:** Определить, для каких задач используется каждая платформа.
- **Автоматизация (IaC):** Использование Terraform, Ansible для абстрагирования от конкретного провайдера.
- **Унификация процессов:** Создание единых регламентов мониторинга, бэкапов и безопасности.
- **Выбор кросс-платформенных инструментов:** Использование решений (Veeam, Zabbix), поддерживающих все гипервизоры.
